#!/bin/bash

echo -n 'echo '
echo -n ' -e '
mode=normal

shift
for a in "$@"; do
  if [[ "$a" == '--ns-echo-pretty-names-fg' ]]; then
     mode=foreground
  elif [[ "$mode" == 'foreground' ]]; then
    mode=normal
    case $a in
       'red') echo -ne  "\033[41m";;
       'green') echo -ne "\033[42m";;
      esac
  else
    echo -n " $a "
  fi
done

echo -ne '\033[39m\033[49m'
